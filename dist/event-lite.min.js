function EventLite(){return this instanceof EventLite?void 0:new EventLite}!function(e){function n(e){for(var n in f)e[n]=f[n];return e}function t(e,n){return o(this,e).push(n),this}function i(e,n){function t(){r.call(i,e,t),n.apply(this,arguments)}var i=this;return t.originalListener=n,o(i,e).push(t),i}function r(e,n){function t(e){return e!==n&&(!e.originalListener||e.originalListener!==n)}var i,l=this;if(arguments.length){if(n){if(i=o(l,e,!0)){if(i=i.filter(t),!i.length)return r.call(l,e);l[u][e]=i}}else if(i=l[u],i&&(delete i[e],!Object.keys(i).length))return r.call(l)}else delete l[u];return l}function l(e,n){function t(e){e.call(l)}function i(e){e.call(l,n)}function r(e){e.apply(l,a)}var l=this,u=o(l,e,!0);if(!u)return!1;var f=arguments.length;if(1===f)u.forEach(t);else if(2===f)u.forEach(i);else{var a=Array.prototype.slice.call(arguments,1);u.forEach(r)}return!!u.length}function o(e,n,t){if(!t||e[u]){var i=e[u]||(e[u]={});return i[n]||(i[n]=[])}}"undefined"!=typeof module&&(module.exports=e);var u="listeners",f={on:t,once:i,off:r,emit:l};n(e.prototype),e.mixin=n}(EventLite);